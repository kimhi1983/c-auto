name = "c-auto-api"
main = "src/index.ts"
compatibility_date = "2025-02-10"
compatibility_flags = ["nodejs_compat"]

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "c-auto-db"
database_id = "placeholder-will-be-set-after-creation"

# KV Namespace (캐시: OAuth 토큰, 환율 등)
[[kv_namespaces]]
binding = "CACHE"
id = "placeholder-will-be-set-after-creation"

# R2 Bucket (파일 저장소: 아카이브, 문서)
[[r2_buckets]]
binding = "FILES"
bucket_name = "c-auto-files"

# Environment Variables (Secrets는 wrangler secret put 으로 설정)
[vars]
ENVIRONMENT = "production"
JWT_ALGORITHM = "HS256"
JWT_EXPIRE_MINUTES = "1440"
CORS_ORIGIN = "https://c-auto.kimhi1983.com"

# Development overrides
[env.dev]
name = "c-auto-api-dev"
[env.dev.vars]
ENVIRONMENT = "development"
CORS_ORIGIN = "http://localhost:3003"
